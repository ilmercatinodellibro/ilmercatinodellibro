fragment BookCopySummary on BookCopy {
  id
  createdAt
  createdById
  code
  book {
    ...BookSummary
    retailLocationId
  }
  problems {
    id
    createdAt
    createdBy {
      id
      firstname
      lastname
    }
    details
    resolvedAt
    resolvedBy {
      id
      firstname
      lastname
    }
    solution
    type
    updatedAt
  }
  returnedAt
  returnedById
  updatedAt
  updatedById
}

query getBookCopies($bookId: String!) {
  bookCopies(bookId: $bookId) {
    ...BookCopySummary
  }
}

query getBookCopiesByOwner($userId: String!) {
  bookCopiesByOwner(userId: $userId) {
    ...BookCopySummary
  }
}

query getPurchasedBookCopies($userId: String!) {
  purchasedBookCopies(userId: $userId) {
    ...BookCopySummary
  }
}

query getSoldBookCopies($userId: String!) {
  soldBookCopies(userId: $userId) {
    ...BookCopySummary
  }
}

mutation createBookCopies($input: BookCopyCreateInput!) {
  createBookCopies(input: $input)
}

mutation reportProblem($input: ProblemCreateInput!) {
  reportProblem(input: $input) {
    id
    bookCopyId
    details
  }
}

mutation resolveProblem($input: ProblemResolveInput!) {
  resolveProblem(input: $input) {
    id
    bookCopyId
    details
    solution
  }
}
