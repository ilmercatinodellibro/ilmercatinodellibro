fragment UserSummary on User {
  id
  firstname
  lastname
  email
}

fragment User on User {
  ...UserSummary
  role
  phoneNumber
  discount
  notes
}

fragment Customer on User {
  ...User
  booksInStock
  booksSold
  booksReserved
  booksRequested
  booksRequestedAndAvailable: booksRequested(onlyAvailable: true)
  booksBought
}

query getUsers {
  users(roles: [ADMIN, OPERATOR]) {
    ...User
  }
}

query getCustomers {
  users(roles: [USER]) {
    ...Customer
  }
}

mutation removeUser($input: RemoveUserPayload!) {
  removeUser(input: $input)
}

mutation updateRole($input: UpdateRolePayload!) {
  updateRole(input: $input)
}
